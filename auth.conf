{
	instances = {
		#include f"datasource.conf"
		
		loggedin = Return("authenticated") {
			default->Template(f"templates/LoginSuccess.html");
		};

		setsessionlogin = SQL(f"queries/SetSessionLogin.sql", 
			params = ["session", "login"], credset = "login"
		) {
			successful->instances.loggedin;
		};

		identify = Module(f"login.conf@identify") {
			identified->instances.setsessionlogin;
		};

		enticate = Module(f"session.conf@ize") {
			ized->SQL(f"queries/GetSessionLogin.sql", 
				params = ["session"], credset = "login"
			) {
				none->Return("unauthenticated") {
					default->instances.identify;
				};
				single->instances.loggedin;
			};
		};

		end = Module(f"session.conf@stop") {
			stopped->Template(f"templates/LoggedOut.html");
		};

		register = Module(f"login.conf@create") {
			done->Return("registered") {
				default->instances.setsessionlogin;
			};
		};

		enticatedbg = instances.enticate;
	};
} 