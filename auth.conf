{
	instances = {
		loggedin = Return("authenticated") {
			default->Template(f"templates/LoginSuccess.html");
		};

		setsessionlogin = DataWriter(f"queries/SetSessionLogin.sql") {
			changed_1->instances.loggedin;
		};

		identify = Module(f"web-login.conf@identify") {
			identified->instances.setsessionlogin;
		};

		enticate = Module(f"session.conf@ize") {
			ized->DataReader(f"queries/GetSessionLogin.sql") {
				none->Return("unauthenticated") {
					default->instances.identify;
				};
				single->instances.loggedin;
			};
		};

		end = Module(f"session.conf@stop") {
			stopped->Return(f"ended") {
				default->Template(f"templates/LoggedOut.html");
			};
		};

		register = Module(f"web-login.conf@create") {
			done->Return("registered") {
				default->instances.setsessionlogin;
			};
		};

		enticatedbg = instances.enticate;
	};
} 